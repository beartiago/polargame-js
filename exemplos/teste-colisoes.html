<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>DETECÇÃO DE COLISÃO</title>
    <script src="JavaScript/bola.js"></script>
    <script src="../javascript/collider.js"></script>
</head>
<body>
<canvas id="canvas" width="900" height="500"></canvas>
<script>
    var canvas = document.getElementById("canvas");
    var context = canvas.getContext("2d");

    var collider = new Collider(canvas);

    var bolas = [];
    for (var i = 1; i < 10; i++) {
        bolas[i] = new Bola(canvas);
        bolas[i].x = 40*i;
        bolas[i].y = 15*i;
        bolas[i].velocidadeX = 10*i;
        bolas[i].velocidadeY = -2*i;
        bolas[i].cor = 'black';
        bolas[i].raio = 5;

        collider.addSprite(bolas[i]);
    }

    for (var i = 10; i < 20; i++) {
        bolas[i] = new Bola(canvas);
        bolas[i].x = 30*i;
        bolas[i].y = 20*i;
        bolas[i].velocidadeX = -1*i;
        bolas[i].velocidadeY = 5*i;
        bolas[i].cor = 'red';
        bolas[i].raio = 5;

        collider.addSprite(bolas[i]);
    }

    collider.whenColliding = function (sprite1, sprite2) {
        //alert("BOOM!");
    };


    requestAnimationFrame(animar);
    function animar() {
        context.clearRect(0, 0, 900, 500);

        for (var i = 1; i < 10; i++) {
            bolas[i].update();
        }
        for (var i = 1; i < 10; i++) {
            bolas[i].draw();
        }

        collider.process();

        requestAnimationFrame(animar);
    }

</script>
</body>
</html>