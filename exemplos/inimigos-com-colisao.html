<!DOCTYPE html>
<html>
    <head lang="en">
        <meta charset="UTF-8">
        <title>TESTE DE INIMIGOS</title>
        <script src="../javascript/game-engine.js"></script>
        <script src="../javascript/keyboard.js"></script>
        <script src="../javascript/background.js"></script>
        <script src="../javascript/boom.js"></script>
        <script src="../javascript/spritesheet.js"></script>
        <script src="../javascript/image-loader.js"></script>
        <script src="../javascript/canvas-helper.js"></script>
        <script src="../javascript/collider.js"></script>
        <script src="../javascript/projectile.js"></script>
        <script src="../javascript/player.js"></script>
        <script src="../javascript/enemy.js"></script>

        <script src="JavaScript/animation-2.js"></script>

        <link rel="stylesheet" href="StyleSheet/canvas.css">
    </head>
    <body>
        <canvas id="canvas"></canvas>
        <script>
            var imagesLoaded = 0;
            var imagesSize = 0;

            imagesSize++;
            var imgPlayer = new Image();
            imgPlayer.src = "../image/polar.png";
            imgPlayer.onload = loading;

            imagesSize++;
            var imgEnemy = new Image();
            imgEnemy.src = "Imagem/koarino.png";
            imgEnemy.onload = loading;

            imagesSize++;
            var imgSpace = new Image();
            imgSpace.src = "../image/bg-space.png";
            imgSpace.onload = loading;

            imagesSize++;
            var imgStars = new Image();
            imgStars.src = "../image/bg-stars.png";
            imgStars.onload = loading;

            imagesSize++;
            var imgClouds = new Image();
            imgClouds.src = "../image/bg-clouds.png";
            imgClouds.onload = loading;

            function loading() {
                if (++imagesLoaded == imagesSize)
                    start();
            }

            var engine = new GameEngine();
            function start() {
                var bgSpace = new Background(engine, imgSpace, 3);
                engine.addSprite(bgSpace);
                var bgStars = new Background(engine, imgStars, 2);
                engine.addSprite(bgStars);
                var bgClouds = new Background(engine, imgClouds, 10);
                engine.addSprite(bgClouds);

                var polar = new Player(engine, imgPlayer);
                engine.addSprite(polar);

                setInterval(newEnemy, 1000);

                engine.initialize();
                engine.startAnimation();
            }

            function newEnemy() {
                engine.addSprite(new Enemy(engine, imgEnemy));
            }
        </script>
    </body>
</html>